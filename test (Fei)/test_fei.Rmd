---
title: "test"
author: "FEI SUN"
date: "2021/11/19"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(magrittr)
library(dplyr)
city_PM25= city_PM25_Distribution %>%
  select(city,pm25)%>%
  mutate(level=as.character(pm25))%>%
  mutate(
    level = case_when(
      pm25 <= 50 ~ 'Good',
      pm25 <= 100 ~ 'Moderate',
      pm25 <= 150 ~ 'Unhealthy for Sensitive People',
      pm25 <= 200 ~ ' Unhealthy',
      pm25 <= 300 ~ 'Very Unhealthy',
      pm25 <= 500 ~ 'Hazardous'))%>%
  arrange(city,level,pm25)

city_level=
  city_PM25%>%
  group_by(city,level)%>%
  summarise(n=n())%>%
  pivot_wider(names_from = "level", values_from = "n")

city_level[is.na(city_level)]= 0 

knitr::kable(city_level)

```